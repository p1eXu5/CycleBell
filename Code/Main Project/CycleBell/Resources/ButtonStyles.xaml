<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:at="clr-namespace:CycleBell.Views">

    <!-- ct_BaseButton -->
    <ControlTemplate x:Key="ct_BaseButton" TargetType="ButtonBase" >
        <Grid SnapsToDevicePixels="True">
            
            <!-- visual states -->
            <VisualStateManager.VisualStateGroups>
                <VisualStateGroup x:Name="CommonStates">
                    
                    <VisualStateGroup.Transitions>
                        <VisualTransition From="MouseOver" To="Normal" GeneratedDuration="0:0:.2" />
                        <VisualTransition From="Normal" To="MouseOver" GeneratedDuration="0:0:.2" />
                        <VisualTransition From="Pressed" To="MouseOver" GeneratedDuration="0" />
                    </VisualStateGroup.Transitions>

                    <VisualState x:Name="Normal"/>
                    
                    <VisualState x:Name="MouseOver" >
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.Effect).(DropShadowEffect.Opacity)" 
                                             Storyboard.TargetName="rectangle"
                                             To="0.2" Duration="0"/>
                        </Storyboard>
                    </VisualState>
                    
                    <VisualState x:Name="Pressed">
                        <Storyboard>

                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.Effect).(DropShadowEffect.ShadowDepth)" 
                                             Storyboard.TargetName="rectangle"
                                             To="1.0" Duration="0"/>
                            <DoubleAnimation Storyboard.TargetProperty="(Shape.StrokeThickness)" 
                                             Storyboard.TargetName="rectangle"
                                             To="1.0" Duration="0"/>
                        </Storyboard>
                    </VisualState>
                
                </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>

            <!-- visual tree -->
            <Rectangle x:Name="rectangle"
                       RadiusX="4" RadiusY="4"
                       StrokeThickness="0">
                <!-- fill -->
                <Rectangle.Fill>
                    <SolidColorBrush Color="{DynamicResource col_Background}" />
                </Rectangle.Fill>

                <!-- shadow -->
                <Rectangle.Effect>
                    <DropShadowEffect x:Name="m_shadow" Direction="-90" 
                                      Opacity=".0" 
                                      ShadowDepth="2" BlurRadius="2" />
                </Rectangle.Effect>
                
                <!-- stroke -->
                <Rectangle.Stroke>
                    <SolidColorBrush Color="{Binding Path=(at:AttachedPropertyFactory.BorderColor), RelativeSource={RelativeSource TemplatedParent}}" />
                </Rectangle.Stroke>
            </Rectangle>
            <Viewbox Margin="5">
                <ContentPresenter Content="{TemplateBinding Content}"/>
            </Viewbox>
        </Grid>
    </ControlTemplate>

    <!-- style_Path -->
    <Style x:Key="style_Path" TargetType="Path">
        <Setter Property="Fill" Value="{Binding Foreground, RelativeSource={RelativeSource FindAncestor, AncestorType=ToggleButton}}" />
        <Setter Property="Stroke">
            <Setter.Value>
                <SolidColorBrush Color="{Binding Path=(at:AttachedPropertyFactory.StrokeColor), RelativeSource={RelativeSource FindAncestor, AncestorType=ToggleButton}}" />
            </Setter.Value>
        </Setter>
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="HorizontalAlignment" Value="Center" />
    </Style>

    <Style x:Key="BaseButtonStyle">
        <Setter Property="Control.BorderThickness" Value="0" />
        <Setter Property="Control.VerticalAlignment" Value="Center" />
        <Setter Property="Control.HorizontalAlignment" Value="Left" />
        <Setter Property="Control.FontWeight" Value="Bold" />
        <Setter Property="Control.FontFamily" Value="{StaticResource font_SuiGeneris}" />
        <Setter Property="Control.Foreground" Value="{DynamicResource brush_UncheckedIcon}" />
        <Setter Property="at:AttachedPropertyFactory.StrokeColor" Value="{DynamicResource col_UncheckedStroke}" />
        <Setter Property="Control.FontSize" Value="1" />
        <Setter Property="Control.Width" Value="30" />
        <Setter Property="Control.Height" Value="30" />
        <Setter Property="Control.Template">
            <Setter.Value>
                <StaticResource ResourceKey="ct_BaseButton" />
            </Setter.Value>
        </Setter>
    </Style>
    
    <Style TargetType="Button" BasedOn="{StaticResource BaseButtonStyle}"></Style>

    <Style TargetType="ToggleButton" BasedOn="{StaticResource BaseButtonStyle}">
        <Style.Triggers>
            <Trigger Property="IsChecked" Value="True">
                <Setter Property="Foreground" Value="{DynamicResource brush_CheckedIcon}" />
                <Setter Property="at:AttachedPropertyFactory.StrokeColor" Value="{DynamicResource col_CheckedStroke}" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- style_MuteToggleButton -->
    <Style x:Key="style_MuteToggleButton" TargetType="ToggleButton">
        <Setter Property="FontWeight" Value="Normal" />
        <Setter Property="FontFamily" Value="{StaticResource font_SuiGeneris}" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToggleButton">
                    <TextBlock x:Name="Mute" Text="mute" VerticalAlignment="Bottom">
                        <TextBlock.Foreground>
                            <SolidColorBrush x:Name="txtb_Brush" Color="#FF002EAA" />
                        </TextBlock.Foreground>
                    </TextBlock>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>